<nz-tabset>
  <nz-tab >
    <ng-template #nzTabHeading>
      {{title}}
    </ng-template>
    <div style="margin-bottom: 20px;">
      <nz-input  [nzPlaceHolder]="'店铺名称、地址'"  [(ngModel)]="keyword" [nzSize]="'large'" style = "width: 20%;"></nz-input>
      <nz-select style="width: 120px;" [(ngModel)]="origin" nzAllowClear [nzSize]="'large'" [nzShowSearch]="true" nzPlaceHolder="店铺来源">
        <nz-option
          *ngFor="let option of shopOrigin"
          [nzLabel]="option.value"
          [nzValue]="option.key">
        </nz-option>
      </nz-select>
      <nz-select style="width: 120px;" [(ngModel)]="status" nzAllowClear [nzSize]="'large'" [nzShowSearch]="true" nzPlaceHolder="审核状态">
        <nz-option
          *ngFor="let option of shopStatus"
          [nzLabel]="option.value"
          [nzValue]="option.key">
        </nz-option>
      </nz-select>
      <button nz-button [nzType]="'primary'" nzGhost [nzSize]="'large'" (click)="search()">
        <i class="anticon anticon-search"></i><span>搜索</span>
      </button>
      <button nz-button [nzType]="'primary'" [nzSize]="'large'" (click)="editEntity({id:0})" style="position:absolute;right: 25px;">
        <i class="anticon anticon-plus"></i><span>添加</span>
      </button>
    </div>
    <nz-table #nzTable   [nzAjaxData]="page.data"
              [nzPageSize]="page.per_page"
              [nzTotal]="page.total"
              [nzPageIndex]="page.current_page"
              (nzPageIndexChangeClick)="changePageNo($event)"
              [nzLoading]="isLoading"
              [nzShowTotal]="true">
      <thead nz-thead>
      <tr>
        <th nz-th><span>序号</span></th>
        <th nz-th><span>店铺来源</span></th>
        <th nz-th><span>店铺名称</span></th>
        <th nz-th><span>店铺地址</span></th>
        <th nz-th><span>审核状态</span></th>
        <th nz-th><span>审核时间</span></th>
        <th nz-th><span>操作</span></th>
      </tr>
      </thead>
      <tbody nz-tbody>
      <tr nz-tbody-tr *ngFor="let data of nzTable.data;let i = index;">
        <td nz-td>{{i+1}}</td>
        <td nz-td>{{data.origin|dicsNamePipe:shopOrigin:"key":"value"}}</td>
        <td nz-td>{{data.name}}</td>
        <td nz-td><a href="{{data.url}}" target="_blank">{{data.url|stringEllipsisCutPipe:36}}</a></td>
        <td nz-td>{{data.status|dicsNamePipe:shopStatus:"key":"value"}}</td>
        <td nz-td>{{data.checked_at}}</td>
        <td nz-td>
          <span>
           <span>
              <a href="javascript:void (0);" (click)="editEntity(data)">查看详情</a>
            </span>
               <span nz-table-divider></span>
              <nz-popconfirm [nzTitle]="'确定要删除这条数据吗？'" (nzOnConfirm)="delete(data)">
                <a nz-popconfirm>删除</a>
              </nz-popconfirm>
        </span>
        </td>
      </tr>
      </tbody>
    </nz-table>
  </nz-tab>
</nz-tabset>


<!--

<nz-tabset>
  <nz-tab >
    <ng-template #nzTabHeading>
      {{title}}
    </ng-template>
<form nz-form style="margin-bottom: 20px;" [nzLayout]="'inline'" [formGroup]="validateForm">
  <div nz-form-item>
    <div nz-form-control style="min-width: 300px;">
      <nz-input formControlName="textInput" [nzPlaceHolder]="'店铺名'" [nzSize]="'large'"></nz-input>
    </div>
  </div>
  <div nz-form-item>
    <nz-select style="width: 120px;" [nzSize]="'large'" [ngModelOptions]="{standalone: true}" [(ngModel)]="selectedOption" nzAllowClear>
      <nz-option
        *ngFor="let option of options"
        [nzLabel]="option.label"
        [nzValue]="option"
        [nzDisabled]="option.disabled">
      </nz-option>
    </nz-select>
  </div>
  <div nz-form-item>
    <div nz-form-control>
      <nz-datepicker (ngModelChange)="_startDate=$event" [ngModel]="_startDate"  [nzShowTime]="true" [nzFormat]="'YYYY-MM-DD HH:mm:ss'" [nzSize]="'large'" [nzPlaceHolder]="'开始时间'" [ngModelOptions]="{standalone: true}"></nz-datepicker>
    </div>
  </div>
  <div nz-form-item>
    <div nz-form-control>
      <nz-datepicker (ngModelChange)="_endDate=$event" [ngModel]="_endDate"  [nzShowTime]="true" [nzFormat]="'YYYY-MM-DD HH:mm:ss'" [nzSize]="'large'" [nzPlaceHolder]="'结束时间'" [ngModelOptions]="{standalone: true}"></nz-datepicker>
    </div>
  </div>
  <button nz-button [nzType]="'primary'" [nzSize]="'large'">搜索</button>
  <button nz-button [nzType]="'primary'" [nzSize]="'large'" style="position:  absolute;right: 25px;">添加店铺</button>
</form>
<nz-table #nzTable [nzDataSource]="data" [nzPageSize]="10">
  <thead nz-thead>
  <tr>
    <th nz-th><span>序号</span></th>
    <th nz-th><span>店铺来源</span></th>
    <th nz-th><span>淘宝店铺</span></th>
    <th nz-th><span>店铺地址</span></th>
    <th nz-th><span>审核状态</span></th>
    <th nz-th><span>审核时间</span></th>
  </tr>
  </thead>
  <tbody nz-tbody>
  <tr nz-tbody-tr *ngFor="let data of nzTable.data">
    <td nz-td>{{data.userId}}</td>
    <td nz-td>{{data.source}}</td>
    <td nz-td>{{data.shopName}}</td>
    <td nz-td>{{data.webSrc}}</td>
    <td nz-td>{{data.status}}</td>
    <td nz-td>{{data.auditTime}}</td>
  </tr>
  </tbody>
</nz-table>
  </nz-tab>
</nz-tabset>
-->
